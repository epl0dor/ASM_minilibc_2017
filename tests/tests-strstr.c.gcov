        -:    0:Source:tests-strstr.c
        -:    0:Programs:11
        -:    1:/*
        -:    2:** EPITECH PROJECT, 2018
        -:    3:** ASM
        -:    4:** File description:
        -:    5:** testing strstr function
        -:    6:*/
        -:    7:
        -:    8:#include <criterion/criterion.h>
        -:    9:
    #####:   10:char		*my_strstr(const char *haystack, const char *needle)
        -:   11:{
    #####:   12:	char	*ret = (char *)haystack;
        -:   13:	size_t	i;
        -:   14:
    #####:   15:	if (*needle == '\0')
    #####:   16:		return (ret);
    #####:   17:	while (*ret != '\0') {
    #####:   18:		i = 0;
    #####:   19:		while (ret[i] == needle[i])
    #####:   20:			i++;
    #####:   21:		if (needle[i] == '\0')
    #####:   22:			return (ret);
    #####:   23:		*ret++;
        -:   24:	}
    #####:   25:	return (NULL);
        -:   26:}
        -:   27:
        2:   28:Test(strstr, sample_test)
        -:   29:{
        1:   30:	const char	*haystack = "Bonjour. Ou plutôt, Salut.";
        1:   31:	const char	*needle = "Salut";
        -:   32:	char		*ret;
        -:   33:
        1:   34:	ret = strstr(haystack, needle);
        1:   35:	cr_expect_eq(ret, haystack + 21);
        1:   36:}
        -:   37:
        2:   38:Test(strstr, needle_not_found)
        -:   39:{
        1:   40:	const char	*haystack = "Bonjour. Ou plutôt, Salut.";
        1:   41:	const char	*needle = "ALOHA";
        -:   42:	char		*ret;
        -:   43:
        1:   44:	ret = strstr(haystack, needle);
        1:   45:	cr_expect_eq(ret, NULL);
        1:   46:}
        -:   47:
        2:   48:Test(strstr, empty_needle)
        -:   49:{
        1:   50:	const char	*haystack = "Bonjour. Ou plutôt, Salut.";
        1:   51:	const char	*needle = "";
        -:   52:	char		*ret;
        -:   53:
        1:   54:	ret = strstr(haystack, needle);
        1:   55:	cr_expect_eq(ret, haystack);
        1:   56:}
        -:   57:
        2:   58:Test(strstr, empty_haystack)
        -:   59:{
        1:   60:	const char	*haystack = "";
        1:   61:	const char	*needle = "Salut";
        -:   62:	char		*ret;
        -:   63:
        1:   64:	ret = strstr(haystack, needle);
        1:   65:	cr_expect_eq(ret, NULL);
        1:   66:}
        -:   67:
        2:   68:Test(strstr, only_never_complete_needle)
        -:   69:{
        1:   70:	const char	*haystack = "Salto arrière, puis Salto avant";
        1:   71:	const char	*needle = "Salut";
        -:   72:	char		*ret;
        -:   73:
        1:   74:	ret = strstr(haystack, needle);
        1:   75:	cr_expect_eq(ret, NULL);
        1:   76:}
